{% extends "base.html" %}
{% block contenido %}

<div class="card-custom p-4">

    <h2 class="mb-4">Editar pedido #{{ pedido_id }}</h2>

    <form method="post" id="formPedido">
        {% csrf_token %}

        <!-- DATOS DEL CLIENTE -->
        <h5 class="section-title mb-3">Datos del cliente</h5>
        <div class="row mb-3">
            <div class="col-md-4">
                <label>Cliente *</label>
                <input type="text" name="Cliente" class="form-control" required value="{{ pedido.Cliente }}">
            </div>
            <div class="col-md-4">
                <label>Teléfono *</label>
                <input type="text" name="Telefono" class="form-control" pattern="[0-9]{9}" maxlength="9" required value="{{ pedido.Telefono }}">
            </div>
            <div class="col-md-4">
                <label>Club</label>
                <input type="text" name="Club" class="form-control" value="{{ pedido.Club }}">
            </div>
        </div>

        <!-- FECHAS -->
        <div class="row mb-3">
            <div class="col-md-6">
                <label>Fecha estimada de entrega</label>
                <input type="date" name="Fecha_entrega_estimada" class="form-control input-fecha-calendario" value="{{ pedido.Fecha_entrega_estimada }}">
            </div>
            <div class="col-md-6">
                <label>Fecha de entrada</label>
                <input type="date" name="Fecha_entrada" class="form-control" value="{{ pedido.Fecha_entrada }}" readonly>
            </div>
        </div>

        <!-- COMENTARIOS -->
        <div class="mb-4">
            <label>Comentarios</label>
            <textarea name="Comentarios" class="form-control" rows="3">{{ pedido.Comentarios }}</textarea>
        </div>

        <!-- ESTADOS -->
        <h5 class="section-title mb-2">Estados</h5>
        <div class="estados-box mb-4">
            <label>
                <input type="checkbox" name="Estados" value="Nuevo" class="estado-exclusivo"
                    {% if "Nuevo" in pedido.Estados %}checked{% endif %}> Nuevo
            </label>
            <label>
                <input type="checkbox" name="Estados" value="diseño" class="estado-exclusivo"
                    {% if "diseño" in pedido.Estados %}checked{% endif %}> diseño
            </label>
            <label>
                <input type="checkbox" name="Estados" value="fabricacion" class="estado-exclusivo"
                    {% if "fabricacion" in pedido.Estados %}checked{% endif %}> fabricacion
            </label>
            <label>
                <input type="checkbox" name="Estados" value="trabajo empezado"
                    {% if "trabajo empezado" in pedido.Estados %}checked{% endif %}> trabajo empezado
            </label>
            <label>
                <input type="checkbox" name="Estados" value="trabajo terminado" class="estado-exclusivo"
                    {% if "trabajo terminado" in pedido.Estados %}checked{% endif %}> trabajo terminado
            </label>
            <label>
                <input type="checkbox" name="Estados" value="cobrado"
                    {% if "cobrado" in pedido.Estados %}checked{% endif %}> cobrado
            </label>
            <label>
                <input type="checkbox" name="Estados" value="retirado"
                    {% if "retirado" in pedido.Estados %}checked{% endif %}> retirado
            </label>
            <label>
                <input type="checkbox" name="Estados" value="pendiente"
                    {% if "pendiente" in pedido.Estados %}checked{% endif %}> pendiente
            </label>
        </div>

        <!-- (RESTO DEL ARCHIVO SIN CAMBIOS) -->
        {{ block.super }}

</div>

{% endblock %}
